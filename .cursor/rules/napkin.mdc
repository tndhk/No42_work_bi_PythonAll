---
alwaysApply: true
---

# Napkin: Persistent Learning Memory

セッション開始時に `.claude/napkin.md` を読み込み、作業中に継続的に更新する。

## セッション開始時

1. `.claude/napkin.md` を読む（存在しない場合は作成）
2. 内容を把握し、過去のミス・学びを適用する
3. 読み込んだことをアナウンスしない（黙って適用）

## 作業中の更新タイミング

以下のタイミングでnapkinに追記する:

- 自分のミスに気づいたとき（間違った仮定、失敗したアプローチ）
- ユーザーから修正・指摘を受けたとき
- 試したアプローチが失敗したとき（理由と共に記録）
- 試したアプローチが成功したとき（パターンとして記録）
- ツールやリポジトリの予期しない挙動を発見したとき

## 記録の品質

- 具体的に書く（「エラーが発生」ではなく「APIがlistではなくpaginated objectを返す」）
- 次回セッションで読んだときに行動を変えられる情報のみ記録
- 冗長な記録は避け、高シグナルな内容に絞る

## メンテナンス

napkinが150行を超えたら:
- 重複エントリを統合
- 繰り返しの修正をUser Preferencesに昇格
- 解決済み・古くなったノートをアーカイブ
